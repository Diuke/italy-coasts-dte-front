<div class="analysis-unit-container mb-5">
    <div class="container-fluid py-3">
        <select [(ngModel)]="layerSelector" class="form-select my-2" aria-label="Select Layer" (change)="selectLayer()">
            <option [value]="0" selected>Select a layer</option>
            <option *ngFor="let layer of availableLayers" [value]="layer.data.id">{{layer.data.readable_name}}</option>
        </select>

        <select [disabled]="layer == null" [(ngModel)]="typeSelector" class="form-select mb-2" aria-label="Select Analysis Type">
            <option [value]="0" selected>Type</option>
            <option [value]="POINT_TYPE">Point Analysis</option>
            <option [value]="AREA_TYPE">Area Analysis</option>
        </select>

        <div *ngIf="typeSelector == POINT_TYPE">
            <div class="row">
                <div class="form-group col">
                    <label style="font-size: 10px;" for="latitude">Latitude</label>
                    <input [(ngModel)]="pointCoordinates[0]" id="latitude" type="number" class="form-control" placeholder="Latitude">
                </div>
                <div class="form-group col">
                    <label style="font-size: 10px;" for="longitude">Longitude</label>
                    <input [(ngModel)]="pointCoordinates[1]" id="longitude" type="number" class="form-control" placeholder="Longitude">
                </div>
            </div>
            <button class="btn btn-secondary w-100 my-2" (click)="capturePoint()">
                Capture Point
            </button>
        </div>

        <button class="btn btn-success w-100 my-2" (click)="performAnalysis()">
            Perform Analysis
        </button>

        <div class="analysis-area" *ngIf="doneAnalysis">
            <h5>{{ featureData?.value + " " + featureData?.units}} </h5>
            <div *ngIf="monotemporal">
                
            </div>

            <div *ngIf="timeSeriesAvailable">
                
            </div>

            <div *ngIf="depthProfileAvailable">
                
            </div>

            

            <plotly-plot [data]="graph.data" [layout]="graph.layout" [config]="graph.config"></plotly-plot>
        </div>
        

    </div>

    
</div>